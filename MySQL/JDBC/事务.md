## 事务

**作用：**

> DBC程序中当**一个连接对象**被创建时，默认情况下是自动提交事务：每次执行一个 SQL 语句时，如果执行成功，就会向数据库自动提交，而不能回滚。
>
> JDBC程序中为了让多个 SQL 语句作为一个事务执行：（重点）

**操作**

> l 调**用 Connection 对象的** **setAutoCommit(false); 以取消自动提交事务**
>
> l 在所有的 SQL 语句都成功执行后，调用 **commit(); 方法提交事务**
>
> l **在其中某个操作失败或出现异常时，调用 rollback(); 方法回滚事务**
>
> **l 若此时 Connection 没有被关闭, 则需要恢复其自动提交状态 setAutoCommit(true);**

**注意点**

> **如果多个操作，每个操作使用的是自己单独的连接，则无法保证事务。即同一个事务的多个操作必须在同一个连接下**